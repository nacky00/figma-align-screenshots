<link rel="stylesheet" href="https://static.figma.com/api/figma-extension-api-0.0.1.css">
<h4>test</h4>
<p>Width: <input id="width" value="" type="text" placeholder="5"></p>
<p>Radius: <input id="radius" value="" type="text" placeholder="12"></p>
<p>Color: <input id="color" value="" type="text" placeholder="000000"></p>
<button id="change" class="primary">Change</button>
<script>
  const widthInit = 5;
  const radiusInit = 12;
  const hexInit = '000000';

  const widthElement = document.getElementById('width');
  const radiusElement = document.getElementById('radius');
  const colorElement = document.getElementById('color');

  let preValue = (preData) => preData ? preData : { "width": widthInit, "radius": radiusInit, "hex": hexInit }

  onmessage = (event) => {
    widthElement.value = preValue(event.data.pluginMessage).width;
    radiusElement.value = preValue(event.data.pluginMessage).radius;
    colorElement.value = preValue(event.data.pluginMessage).hex;
  }

  widthElement.onchange = () => { widthElement.value = widthElement.value == "" ? widthElement.value = widthInit : widthElement.value; }
  radiusElement.onchange = () => { radiusElement.value = radiusElement.value == "" ? radiusElement.value = radiusInit : radiusElement.value; }
  colorElement.onchange = () => { colorElement.value = colorElement.value == "" ? colorElement.value = colorInit : colorElement.value; }

  document.getElementById('change').onclick = () => {
    const width = parseInt(widthElement.value, 10);
    const radius = parseInt(radiusElement.value, 10);
    const color = colorElement.value;
    parent.postMessage({ pluginMessage: { type: 'change-arrow-style', width, radius, color } }, '*')
  }

</script>